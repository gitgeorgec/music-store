{"version":3,"sources":["img/malte-wingen-381988-unsplash.jpg","img/Spotify_Logo_RGB_Green.png","img/Stripe logo - blue.png","api/api.js","components/authForm.js","container/landing.js","components/jumbotron.js","container/index.js","container/about.js","components/sideNav.js","components/searchBar.js","components/musicCard.js","container/search.js","function/throttle.js","components/productItem.js","container/user.js","components/cartItem.js","components/CheckoutForm.js","container/shoppingChat.js","container/Main.js","components/dropdown.js","container/header.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","errorHandle","res","ok","status","json","then","err","errorMessage","getToken","_getToken","apply","this","arguments","_callee","regenerator_default","a","wrap","_context","prev","next","abrupt","fetch","access_token","catch","console","log","stop","getData","_x","_x2","_getData","_callee2","searchURL","token","_context2","method","headers","Headers","Accept","Content-Type","Authorization","concat","getAuth","_x3","_x4","_x5","_x6","_getAuth","_callee3","sign","username","email","password","url","_context3","body","JSON","stringify","checkAuth","_x7","_x8","_checkAuth","_callee4","userId","_context4","authorization","auth","getUser","_getUser","_callee5","_context5","localStorage","id","jwtToken","makeOrder","_x9","_x10","_makeOrder","_callee6","order","_context6","Object","objectSpread","AuthForm","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","e","setState","defineProperty","target","name","value","state","handleSubmit","bind","assertThisInitialized","document","querySelector","click","preventDefault","path","apiCalls","data","setItem","_this2","react_default","createElement","Fragment","className","onSubmit","htmlFor","type","placeholder","onChange","onClick","handleTestLogin","Component","Landing","style","minHeight","marginTop","src","HeadphoneImg","alt","width","height","authForm","assign","Jumbotron","white","color","fontWeight","textShadow","Main","backyellow","background","backgreen","largeText","fontSize","fontWeigth","marginLarge","margin","jumbotron","minWidth","Link","to","About","role","SpotifyLogo","StripeLogo","SideNav","screen","genres","innerText","selected","classList","add","previousElementSibling","nextElementSibling","remove","toggle","zIndex","top","left","handleSideShowUP","transition","wordBreak","map","item","i","onMouseEnter","hoverIn","onMouseLeave","hoverOut","handleGenreClick","key","SearchBar","handleEnterPress","handleSearch","searchValue","searchResults","searchKey","searchType","handleSearchValueChange","onKeyPress","MusicCard","addShopping","info","price","img","removeShopping","artists","shoppingCart","qty","handleAddShopping","handleRemoveShopping","html","documentElement","Search","genre","Categories","Scroll","handleScroll","fn","threshhold","last","timer","context","args","now","Date","clearTimeout","setTimeout","throttle","window","addEventListener","removeEventListener","Results","splice","items","toConsumableArray","seeds","DocHeight","Math","max","scrollHeight","offsetHeight","clientHeight","screenHeight","innerHeight","scrollY","components_sideNav","handleGenreSearch","categories","searchBar","handleSubmitSearch","musicCard","title","Boolean","images","album","ProductItem","handleClcik","User","ShoppingItems","arr","products","push","productItem","account","page","product","list","class","_id","data-toggle","data-target","data-parent","values","cart","handlePageChange","position","sideNav","orderList","CartItem","CheckoutForm","test","String","toLowerCase","length","address","phoneNumber","complete","payment","submit","stripe","createToken","total","userID","parse","removeAllShopping","es","injectStripe","ShoppingCart","cartItem","history","handleCancel","tabIndex","apiKey","components_CheckoutForm","IndexPage","container","AboutPage","about","Switch","Route","exact","component","render","search","user","shoppingChat","Redirect","Dropdown","handleClick","logout","NavLink","keys","handleLogout","Header","dropdown","App","removeItem","login","authUser","getItem","NewCart","totalPrice","header","src_container_Main","landing","location","hostname","match","ReactDOM","HashRouter","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f9647fa3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/malte-wingen-381988-unsplash.331197b5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Spotify_Logo_RGB_Green.11dc437a.png\";","module.exports = __webpack_public_path__ + \"static/media/Stripe logo - blue.fb4644a0.png\";","function errorHandle(res){\n    if(!res.ok) {\n        if(res.status >=400 && res.status <500){\n            return res.json().then(err=>{\n                throw err\n            })\n        }else {\n            let err = {errorMessage: 'Please try again later, server is not responsed'}\n            throw err\n        }\n    }\n}\n\nexport async function getToken(){\n    const tokenURL = 'https://sheltered-hamlet-43788.herokuapp.com/access_token'\n    return fetch(tokenURL)\n    .then(res => {\n        errorHandle(res)\n        return res.json()\n    })\n    .then(res=>res.access_token)\n    .catch(err=>console.log(err))\n}\n\nexport async function getData(searchURL,token){\n    return fetch(searchURL,{\n        method:'GET',\n        headers: new Headers({\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n        })\n    })\n    .then(res => {\n        errorHandle(res)\n        return res.json()\n    })\n    .then(res=>{\n        console.log(res)\n        return res\n    })\n    .catch(err=>console.log(err))\n}\n\nexport async function getAuth(sign,username,email,password){\n    const url = 'https://sheltered-hamlet-43788.herokuapp.com/api/auth/'+sign\n    return fetch(url,{\n        method:\"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n          },\n        body: JSON.stringify({\n        username,\n        email,\n        password\n        })\n    })\n    .then(res => {\n        errorHandle(res)\n        return res.json()\n    })\n    .then(res=>{\n        console.log(res)\n        return res\n    })\n    .catch(err=>console.log(err))\n}\n\nexport async function checkAuth(userId, token){\n    const url=\"https://sheltered-hamlet-43788.herokuapp.com/test/\" +userId\n    return fetch(url,{\n        headers:{\n            \"authorization\":`Bearer ${token}`\n        }\n    })\n    .then(res => {\n        errorHandle(res)\n        return res.json()\n    })\n    .then(res=>{\n        console.log(res)\n        return res.auth===\"success\"?true:false\n    })\n    .catch(err=>console.log(err))\n}\n\nexport async function getUser(){\n    return fetch(\"https://sheltered-hamlet-43788.herokuapp.com/api/user/\"+localStorage.id,{\n      headers: {\n          \"Content-Type\": \"text/plain\",\n          \"authorization\":`Bearer ${localStorage.jwtToken}`\n        }\n      })\n      .then(res=>res.json())\n      .catch(err=>console.log(err))\n  }\n\nexport async function makeOrder(token,order){\n    return fetch(\"https://sheltered-hamlet-43788.herokuapp.com/api/charge/\"+localStorage.id, {\n      method: \"POST\",\n      headers: {\n          \"Content-Type\": \"text/plain\",\n          \"authorization\":`Bearer ${localStorage.jwtToken}`\n        },\n      body: JSON.stringify({token,...order})\n    })\n}\n// http://localhost:8081/\n","import React, { Component } from 'react';\nimport * as apiCalls from \"../api/api\"\n\nclass AuthForm extends Component{\n  constructor(props){\n    super(props)\n    this.state = {\n        email:\"\",\n        username:\"\",\n        password:\"\",\n        err:false,\n        sign:true\n    }\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  componentDidUpdate(){\n    console.log(\"updata\")\n    console.log(this.state.email,this.state.password)\n    if(this.state.email===\"test@test.com\"&&this.state.password===\"test\"){\n      document.querySelector(\"button\").click()\n    }\n  }\n\n  async handleSubmit(e){\n    e.preventDefault()\n    const path = this.state.sign?\"signin\":\"signup\"\n    const username=this.state.username \n    const email=this.state.email\n    const password=this.state.password\n    const data = await apiCalls.getAuth(path,username,email,password)\n    if(data){\n        localStorage.setItem(\"jwtToken\", data.token);\n        localStorage.setItem(\"id\", data.id);\n        localStorage.setItem(\"username\", data.username);\n    }else {\n        this.setState({err:true})\n    }\n    this.props.checkAuth()\n  }\n\n  handleChange = e =>{\n    this.setState({\n        [e.target.name]: e.target.value\n    })\n  }\n\n  handleTestLogin(){\n    this.setState({\n      email:\"test@test.com\",\n      username:\"test\",\n      password:\"test\",\n    })\n  }\n\n  render(){\n    return (\n      <React.Fragment>\n        <h1 className=\"text-center\">{this.state.sign?\"log in\":\"register\"}</h1>\n        {this.state.err?<div className=\"text-center\">wrong user input</div>:\"\"}\n        <form className=\"col-md-9 mx-auto col-sm-12\" onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"Email\">Email address</label>\n            <input name=\"email\" type=\"email\" className=\"form-control\" id=\"Email\" placeholder=\"Enter email\" onChange={this.handleChange} value={this.state.email}/>\n            <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n          </div>\n          {this.state.sign?\"\":\n          <div className=\"form-group\">\n            <label htmlFor=\"Username\">username</label>\n            <input name=\"username\" type=\"text\" className=\"form-control\" id=\"Username\" placeholder=\"Enter email\" onChange={this.handleChange} value={this.state.username}/>\n          </div>}\n          <div className=\"form-group\">\n            <label htmlFor=\"Password\">Password</label>\n            <input name=\"password\" type=\"password\" className=\"form-control\" id=\"Password\" placeholder=\"Password\" onChange={this.handleChange} value={this.state.password}/>\n          </div>\n          <div className=\"form-group\">\n            <button type=\"submit\" className=\"btn btn-primary form-control\">Submit</button>\n          </div>\n          {this.state.sign?\n          <div className=\"form-group\">\n            <div className=\"btn btn-warning form-control\" onClick={this.handleTestLogin.bind(this)}>Test User</div>\n          </div>:\"\"}\n          <div  className=\"form-group\">\n            <div className=\"btn btn-success form-control\" onClick={()=>this.setState({sign:!this.state.sign})}>{this.state.sign?\"new user\":\"I have a account\"}</div>\n          </div>\n        </form>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default AuthForm","import React, { Component } from 'react';\nimport AuthForm from '../components/authForm'\nimport HeadphoneImg from '../img/malte-wingen-381988-unsplash.jpg'\nimport { getToken } from \"../api/api\"\n\nclass Landing extends Component{\n    componentDidMount(){\n        getToken()\n    }\n    render(){\n        return (\n            <div className=\"landing_back\" style={{minHeight:\"100vh\"}}>\n                <div className=\"row mx-auto\">\n                    <div className=\"col-lg-4 col-md-6 col-10 mx-auto background_yellow p-3 rounded shadow-lg\" style={{marginTop:\"10vh\"}}>\n                    <h1 className=\"text-center\">Music store</h1>\n                        <img className=\"mb-4 d-block mx-auto\" src={HeadphoneImg} alt=\"\" width=\"100\" height=\"100\"/>\n                            <AuthForm {...this.state} {...this.props}/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Landing","import React, { Component } from 'react';\n\nclass Jumbotron extends Component{\n    white= {\n        \"color\":\"white\",\n        \"fontWeight\":\"800\",\n        \"textShadow\":\"1px 1px 0 black\"\n    }\n\n    render(){\n        return (\n            <div className=\"jumbotron jumbo_back\">\n                <h1 className=\"display-4\" style={this.white}>Music Store</h1>\n                <p className=\"lead\" style={this.white}>Enjoy your music.</p>\n                <hr className=\"my-4\"/>\n                <p style={this.white}>This is a practice project. There is no real product in this project</p>\n            </div>\n        )\n    }\n}\n\nexport default Jumbotron","import React, { Component } from 'react';\nimport Jumbotron from '../components/jumbotron'\nimport {Link } from 'react-router-dom';\n\nclass Main extends Component {\n    \n    backyellow ={\n        \"background\":\"#FDE74C\"\n    }\n    backgreen ={\n        \"background\":\"#9BC53D\"\n    }\n    largeText ={\n        \"fontSize\": \"4rem\",\n        \"fontWeigth\":\"bolder\",\n        \"color\":\"white\",\n        \"textShadow\":\"1px 1px 0 black\"\n    }\n    marginLarge={\n        \"margin\":\"3rem 3rem\"\n    }\n\n    render() {\n      return (\n        <main className=\"background_yellow\" style={{minHeight:\"100vh\"}}>\n            <Jumbotron {...this.props}/>\n            <div className=\"row mx-auto\">\n                <div className=\"col-md-3 col-sm-6 col-xs-12 mb-3\" style={{minWidth:\"360px\"}}>\n                    <Link to=\"/search\">\n                        <div className=\"card background_search shadow\" style={{height:\"33vh\"}}>\n                            <div className=\"card-body\"style={this.largeText}>\n                                <p className=\"card-title text-center\">search <br/><i className=\"fas fa-search\"style={{color:\"#C3423F\"}}></i></p>\n                                \n                            </div>\n                        </div>\n                    </Link>\n                </div>\n                <div className=\"col-md-3 col-sm-6 col-xs-12 mb-3\" style={{minWidth:\"360px\"}}>\n                    <Link to=\"/shoppingCart\">\n                        <div className=\"card background_shopping shadow\" style={{height:\"33vh\"}}>\n                            <div className=\"card-body\"style={this.largeText}>\n                                <p className=\"card-title text-center\">Shopping Cart<br/><i className=\"fas fa-shopping-cart\" style={{color:\"#9BC53D\"}}></i></p>\n                                <p className=\"text-center\" ></p>\n                            </div>\n                        </div>\n                    </Link>\n                </div>\n                <div className=\"col-md-3 col-sm-6 col-xs-12 mb-3\" style={{minWidth:\"360px\"}}>\n                    <Link to=\"/user\">\n                        <div className=\"card background_user shadow\" style={{height:\"33vh\"}}>\n                            <div className=\"card-body\"style={this.largeText}>\n                                <p className=\"card-title text-center\">User<br/><i className=\"fas fa-user\" style={{color:\"#5BC0EB\"}}></i></p>\n                                <p className=\"text-center\" ></p>\n                            </div>\n                        </div>\n                    </Link>\n                </div>\n                <div className=\"col-md-3 col-sm-6 col-xs-12 mb-3\" style={{minWidth:\"360px\"}}>\n                    <Link to=\"/about\">\n                        <div className=\"card background_about shadow\" style={{height:\"33vh\"}}>\n                            <div className=\"card-body\"style={this.largeText}>\n                                    <p className=\"card-title text-center\">About<br/><i className=\"fas fa-book\" style={{color:\"#C3423F\"}}></i></p>\n                                    <p className=\"text-center\" ></p>\n                                </div>\n                            </div>\n                    </Link>\n                </div>\n                <div className=\"col-md-3 col-sm-6 col-xs-12\"></div>\n                <div className=\"col-md-3 col-sm-6 col-xs-12\"></div>\n                <div className=\"col-md-3 col-sm-6 col-xs-12\"></div>\n            </div>\n        </main>\n      );\n    }\n  }\n  \n  export default Main;","import React, { Component } from 'react';\nimport SpotifyLogo from '../img/Spotify_Logo_RGB_Green.png'\nimport StripeLogo from '../img/Stripe logo - blue.png'\n\n\nclass About extends Component{\n    render(){\n        return (     \n            <div>\n                <div className=\"row mx-auto\">\n                    <div role=\"main\" className=\"col-md-12 px-4\">\n                    <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\n                        <h1 className=\"h2\">About</h1>\n                        <div className=\"btn-toolbar mb-2 mb-md-0\">\n                        </div>\n                    </div>\n                    <div className=\"background_black p-2\" style={{minHeight:\"70vh\"}}>\n                        <div className=\"col-12\">\n                            <div className=\"row m-1 pt-2 pb-2 background_green border rounded p-2\">\n                                <div className=\"col-lg-2 col-md-3 col-sm-4 col-6 p-0\" style={{background:\"#fff\"}}>\n                                    <img className=\"card-img shadow\" src={SpotifyLogo} alt=\"\"/>\n                                </div>\n                                <div className=\"col-lg-10 col-md-9 col-sm-8 col-6\" style={{fontWeight:\"bold\"}}>\n                                This product uses the Spotify API but is not endorsed by Spotify.\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-12\">\n                            <div className=\"row m-1 pt-2 pb-2 background_green border rounded p-2\">\n                                <div className=\"col-lg-2 col-md-3 col-sm-4 col-6 p-0\" style={{background:\"#fff\"}}>\n                                    <img className=\"card-img shadow\" src={StripeLogo} alt=\"\"/>\n                                </div>\n                                <div className=\"col-lg-10 col-md-9 col-sm-8 col-6\" style={{fontWeight:\"bold\"}}>\n                                This product uses the Stripe API.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n      \n            </div>\n        )\n    }\n}\n\nexport default About","import React, { Component } from 'react';\n\nclass SideNav extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            genres:[\"acoustic\",\"alternative\", \"anime\",\"blues\", \"bossanova\", \"chill\", \"classical\", \"dance\", \"deep-house\",\"disco\", \"drum-and-bass\",\"dubstep\",\"electronic\", \"funk\",\"groove\", \"guitar\", \"happy\", \"hard-rock\", \"hip-hop\", \"holidays\", \"house\", \"indie\", \"industrial\", \"j-pop\", \"j-rock\", \"jazz\", \"k-pop\", \"mandopop\", \"metal\", \"movies\", \"new-release\", \"opera\",\"piano\", \"pop\", \"punk\",\"road-trip\", \"rock\",\"rock-n-roll\",\"romance\",\"sad\",\"sleep\",\"soul\",\"study\",\"summer\",\"tango\",\"trance\",\"work-out\"],\n        }\n    }\n    screen ={\n        \"height\":\"100vh\",\n        \"background\":\"#C3423F\"\n    }\n\n    handleGenreClick(e){\n        if(this.props.onSubmit){\n            this.props.onSubmit(e.target.innerText)\n            console.log(e.target.innerText)\n        }\n        this.setState({\n            selected:e.target.value\n        })\n    }\n\n    hoverIn(e){\n        e.target.classList.add(\"font-large\")\n        if(e.target.previousElementSibling){\n          e.target.previousElementSibling.classList.add(\"font-mid\")\n        }\n        if(e.target.nextElementSibling){\n          e.target.nextElementSibling.classList.add(\"font-mid\")\n        }\n    }\n\n    hoverOut(e){\n        e.target.classList.remove(\"font-large\")\n        if(e.target.previousElementSibling){\n          e.target.previousElementSibling.classList.remove(\"font-mid\")\n        }\n        if(e.target.nextElementSibling){\n          e.target.nextElementSibling.classList.remove(\"font-mid\")\n        }\n    }\n    handleSideShowUP(){\n        const side = document.querySelector(\".side-nav\")\n        side.classList.toggle(\"hide-nav\")\n      }\n\n    render(){\n        return (\n            <React.Fragment>\n                <i className=\"fas fa-arrow-circle-right position-fixed btn\" style={{zIndex:\"3\", top:\"50%\", left:\"-25px\", fontSize:\"2rem\"}} onClick={this.handleSideShowUP.bind(this)}></i>\n                <div className=\"col-md-2 background_red side-nav hide-nav\" style={{transition:\"0.3s\"}}>\n                    <h4 className=\"text-center pt-3 pb-2 mb-3\" style={{color:\"#fff\",wordBreak: \"break-all\"}}>\n                    Recommendations\n                    <i className=\"fas fa-times-circle btn close-tag\" onClick={this.handleSideShowUP.bind(this)}></i>\n                    </h4>\n                    <ul className=\"list-group list-group-flush\">\n                        {this.state.genres.map((item,i)=>{\n                            return(\n                                <li style={{transition:\"0.1s\"}} onMouseEnter={this.hoverIn.bind(this)} onMouseLeave={this.hoverOut.bind(this)}  onClick={this.handleGenreClick.bind(this)} className=\"btn btn-outline-warning\" key={i}>{item}</li>\n                            )\n                        })}\n                    </ul>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default SideNav","import React, { Component } from 'react';\n\nclass SearchBar extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            searchValue:'',\n            searchResults:{}\n        }\n    }\n    handleSearchValueChange(e){\n        this.setState({\n            searchValue: e.target.value\n        })\n    }\n\n    handleSearch(){\n        if(this.props.onSubmit){\n            const searchKey = this.state.searchValue\n            const searchType = document.querySelector('select[name=searchType]').value\n            this.props.onSubmit(searchKey,searchType)\n        }\n        this.setState({\n            searchValue:\"\"\n        })\n    }\n\n    handleEnterPress=(e)=>{\n        if(e.key===\"Enter\"){\n            console.log(\"enter\")\n            this.handleSearch()\n        }\n    }\n\n    render() {\n      return (\n        <div className=\"input-group mb-3\">\n            <select name=\"searchType\">\n                <option value=\"album\">album</option>\n                <option value=\"artist\">artist</option>\n                <option value=\"playlist\">playlist</option>\n                <option value=\"track\">track</option>\n            </select>\n            <input type=\"text\" className=\"form-control\" placeholder=\"search...\" \n                value={this.state.searchValue}\n                onChange = {this.handleSearchValueChange.bind(this)} \n                onKeyPress ={this.handleEnterPress}/>\n            <div className=\"input-group-append\">\n                <span onClick={this.handleSearch.bind(this)} className=\"btn btn-success\">Search</span>\n            </div>\n      </div>\n      );\n    }\n  }\n  \n  export default SearchBar;","import React, { Component } from 'react';\nimport HeadphoneImg from '../img/malte-wingen-381988-unsplash.jpg'\n\nclass MusicCard extends Component{\n    \n    handleAddShopping(){\n        if(this.props.addShopping){\n            this.props.addShopping(this.props.info,this.props.price,this.props.img)\n        }\n    }\n\n    handleRemoveShopping(){\n        if(this.props.removeShopping){\n            this.props.removeShopping(this.props.info)\n        }\n    }\n\n    render(){\n        return (\n            <div className=\"card background_black\">\n                <img className=\"card-img-top\" src={this.props.img?this.props.img:HeadphoneImg} alt=\"\"/>\n                <div className=\"card-body\" style={{color:\"#fff\"}}>\n                <h4>{this.props.info.name}</h4>\n                {this.props.price?\n                    <div>\n                        Artists:{this.props.info.artists[0].name} <br/>\n                        Price:{this.props.price} <br/>\n                            <i className=\"fas fa-shopping-cart\"></i>&nbsp;\n                            <span className=\"badge badge-pill badge-info\">{this.props.shoppingCart[this.props.info.id]?this.props.shoppingCart[this.props.info.id].qty:0}</span>\n                            <span className=\"float-right\">\n                                <span className=\"btn btn-warning btn-sm\" onClick={this.handleAddShopping.bind(this)}>+</span>&nbsp;\n                                <span className=\"btn btn-danger btn-sm\" onClick={this.handleRemoveShopping.bind(this)}>-</span>\n                            </span>\n                    </div>\n                :\"\"}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default MusicCard","import React, { Component } from 'react';\nimport SideNav from '../components/sideNav'\nimport SearchBar from '../components/searchBar'\nimport MusicCard from '../components/musicCard'\nimport HeadphoneImg from '../img/malte-wingen-381988-unsplash.jpg'\nimport throttle from '../function/throttle'\nimport * as apiCalls from \"../api/api\"\n// const url = 'http://localhost:8081/access_token'\nconst body = document.body\nconst html = document.documentElement\n\nclass Search extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            searchResults:[],\n            next:\"https://api.spotify.com/v1/browse/new-releases?country=TW&limit=20\",\n            genre:\"\",\n            searchType:\"album\",\n            Categories:null\n        }\n        this.Scroll = this.Scroll.bind(this)\n        this.handleScroll = throttle(this.Scroll)\n    }\n    \n    componentDidMount() {\n        this.handleSearch()\n        window.addEventListener('scroll', this.handleScroll);\n    }\n    \n    componentWillUnmount() {\n        window.removeEventListener('scroll', this.handleScroll);\n    }\n\n    handleSubmitSearch(searchKey,searchType){\n        if(searchKey===\"\")searchKey=\" \"\n        this.setState({\n            searchResults:[],\n            next:`https://api.spotify.com/v1/search?query=${searchKey}&type=${searchType}&market=TW&offset=0&limit=20`,\n            searchType:searchType\n        },this.handleSearch)\n    }\n\n    handleGenreSearch(genre){\n        this.setState({\n            searchResults:[],\n            next:`https://api.spotify.com/v1/recommendations?limit=40&market=TW&seed_genres=${genre}`,\n            searchType:\"track\",\n            genre\n        },this.handleSearch)\n    }\n\n    async handleSearch(){\n        const searchURL = this.state.next\n        let token = await apiCalls.getToken()\n        let data = await apiCalls.getData(searchURL,token)\n        const Results = this.state.searchResults.splice(\"\")\n        if(data[this.state.searchType+\"s\"]&&data[this.state.searchType+\"s\"].items){\n            this.setState({\n                searchResults:[...Results, ...data[this.state.searchType+\"s\"].items],\n                next:data[this.state.searchType+\"s\"].next\n            })\n        }else if(data.seeds){\n            this.setState({\n                searchResults:[...Results, ...data[this.state.searchType+\"s\"]],\n                next:`https://api.spotify.com/v1/recommendations?limit=20&offset=20&=market=TW&seed_genres=${this.state.genre}`,\n            })           \n        }else{\n            this.setState({\n                next:null\n            })                \n        }\n    }\n\n    Scroll(){\n        const DocHeight = Math.max(body.scrollHeight, body.offsetHeight,html.clientHeight, html.scrollHeight, html.offsetHeight );\n        const screenHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n        if(window.scrollY+screenHeight >= DocHeight-200){\n            if(this.state.next){\n                this.handleSearch()\n            }\n        }\n        return\n    }\n\n\n    render(){\n        return (\n            <main>\n                <div className=\"row mx-auto\">\n                <SideNav onSubmit={this.handleGenreSearch.bind(this)} categories={this.state.Categories}/>\n                <div className=\"col-md-10\">\n                    <div className=\"mt-3\">\n                        <SearchBar onSubmit={this.handleSubmitSearch.bind(this)}/>\n                        <hr/>\n                        <div className=\"row mx-auto\" style={{\"minHeight\":\"90vh\"}}>\n                            {this.state.searchType!==\"track\"?this.state.searchResults.map((item,i)=>{\n                                return (\n                                    <div className=\"col-lg-3 col-md-4 col-sm-6 col-xs-10 mb-3\" key={i}>\n                                        <MusicCard \n                                        key={i} \n                                        info={item} \n                                        title={item.name} \n                                        img={Boolean(item.images)&&Boolean(item.images[0])?item.images[0].url:HeadphoneImg} \n                                        price={this.state.searchType===\"album\"?300:\"\"}\n                                        {...this.props}/>\n                                    </div>\n                                    )\n                                })\n                                :\"\"}\n                            {this.state.searchType===\"track\"?this.state.searchResults.map((item,i)=>{\n                                return(\n                                    <div className=\"col-md-3 col-sm-4 col-xs-10 mb-3\" key={i}>\n                                        <MusicCard \n                                        key={i}\n                                        info={item} \n                                        title={item.name} \n                                        img={Boolean(item.album.images)&&Boolean(item.album.images[0])?item.album.images[0].url:HeadphoneImg} \n                                        {...this.props}\n                                        price={20}/>\n                                    </div>\n                                    )})\n                            :\"\"} \n                            {this.state.next?<div className=\"lds-dual-ring mx-auto\"></div>:<div className=\"col-12 text-center\" style={{ \"fontSize\":\"2rem\"}}>No more result</div>}\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </main>\n        )\n    }\n}\n\nexport default Search","export default function throttle(fn, threshhold) {\n    // 记录上次执行的时间\n    var last\n    // 定时器\n    var timer \n    // 默认间隔为 250ms\n    threshhold || (threshhold = 500)\n    // 返回的函数，每过 threshhold 毫秒就执行一次 fn 函数\n    return function () {  \n      // 保存函数调用时的上下文和参数，传递给 fn\n      var context = this\n      var args = arguments \n      var now = +new Date()\n      // 如果距离上次执行 fn 函数的时间小于 threshhold，那么就放弃\n      // 执行 fn，并重新计时\n      if (last && now < last + threshhold) {\n        clearTimeout(timer) \n        // 保证在当前时间区间结束后，再执行一次 fn\n        timer = setTimeout(function () {\n          last = now\n          fn.apply(context, args)\n        }, threshhold)\n      // 在时间区间的最开始和到达指定间隔的时候执行一次 fn\n      } else {\n        last = now\n        fn.apply(context, args)\n      }\n    }\n}","import React, { Component } from 'react';\nimport HeadphoneImg from '../img/malte-wingen-381988-unsplash.jpg'\n\n\nclass ProductItem extends Component{\n\n    handleClcik(){\n        console.log(this.props.info.item)\n    }\n\n    render(){\n        return (\n            <div onClick={this.handleClcik.bind(this)} className=\"col-12\">\n                <div className=\"row m-1 pt-2 pb-2 border border-dark rounded shadow\">\n                    <div className=\"col-lg-2 col-md-3 col-sm-4 col-6\">\n                        <img className=\"card-img shadow\" src={this.props.info.img||HeadphoneImg} alt=\"\"/>\n                    </div>\n                    <div className=\"col-lg-10 col-md-9 col-sm-8 col-6\" style={{fontWeight:\"bolder\"}}>\n                        <h4>{this.props.info.item.name}&nbsp;</h4>\n                        Artists: {this.props.info.item.artists[0].name} <br/>\n                        Price: ${this.props.info.price} <br/>\n                        qty: {this.props.info.qty} &nbsp;\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ProductItem","import React, { Component } from 'react';\nimport ProductItem from '../components/productItem'\nimport HeadphoneImg from '../img/malte-wingen-381988-unsplash.jpg'\nimport { getUser} from '../api/api'\n\nclass User extends Component{\n  constructor(props){\n    super(props)\n    this.state={\n      username:\"\",\n      email:\"\",\n      page:\"My music\",\n      products:\"\",\n    }\n  }\n\n  async componentWillMount(){\n    let User = await getUser()\n    console.log(User)\n    this.setState({\n      order:User.order,\n      username:User.username,\n      email:User.email,\n      products:User.product\n    })\n  }\n  \n  ShoppingItems =()=>{\n    let arr = []\n    for(let key in this.state.products){\n        arr.push(\n        <ProductItem \n          key={key}\n          info={this.state.products[key]}\n        />\n      )\n    }\n    return arr\n  }\n\n  account =()=>{\n    return (\n      <div className=\"col-12\">\n      <div className=\"row m-1 pt-2 pb-2\">\n          <div className=\"col-lg-2 col-md-3 col-sm-4 col-6\">\n              <img className=\"card-img shadow\" src={HeadphoneImg} alt=\"\"/>\n          </div>\n          <div className=\"col-lg-10 col-md-9 col-sm-8 col-6\" style={{ fontWeight:\"bold\", fontSize:\"1.5rem\"}}>\n              username: {this.state.username} <br/>\n              email: {this.state.email}\n          </div>\n      </div>\n      </div>\n  )\n  }\n\n  orderList(){\n    let list =this.state.order.map((item)=>(\n          <div class=\"card\" key={item._id}>\n            <div class=\"card-header\">\n            <h5 class=\"mb-0\">\n              <button class=\"btn btn-link\" type=\"button\" data-toggle=\"collapse\" data-target={\"#Id\"+item._id}>\n              {item._id}\n              </button>\n            </h5>\n          </div>\n          <div id={\"Id\"+item._id} class=\"collapse\" data-parent=\"#orderList\">\n            <div class=\"card-body\">\n              {Object.values(item.cart).map(item=>(\n                <div class=\"row\">\n                  <div className=\"col-lg-2 col-md-3 col-sm-4 col-6\">\n                    <img className=\"card-img shadow\" src={item.img} alt=\"\"/>\n                  </div>\n                  <div className=\"col-lg-10 col-md-9 col-sm-8 col-6\" style={{fontWeight:\"bolder\"}}>\n                  <h4>{item.item.name}&nbsp;</h4>\n                  Artists: {item.item.artists[0].name} <br/>\n                  Price: ${item.price} <br/>\n                  qty: {item.qty} &nbsp;\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n      </div>\n      )\n    )\n    return (\n       <div className=\"col-12\">\n        <div class=\"\" id=\"orderList\">\n          {list}\n        </div>\n       </div>\n      )\n  }\n\n  handlePageChange(page){\n    this.setState({page})\n  }\n\n  hoverIn(e){\n    e.target.classList.add(\"font-large\")\n    if(e.target.previousElementSibling){\n      e.target.previousElementSibling.classList.add(\"font-mid\")\n    }\n    if(e.target.nextElementSibling){\n      e.target.nextElementSibling.classList.add(\"font-mid\")\n    }\n  }\n\n  hoverOut(e){\n    e.target.classList.remove(\"font-large\")\n    if(e.target.previousElementSibling){\n      e.target.previousElementSibling.classList.remove(\"font-mid\")\n    }\n    if(e.target.nextElementSibling){\n      e.target.nextElementSibling.classList.remove(\"font-mid\")\n    }\n  }\n\n  handleSideShowUP(){\n    const side = document.querySelector(\".side-nav\")\n    side.classList.toggle(\"hide-nav\")\n  }\n\n  sideNav(){\n    let items = [\"My music\",\"My account\",\"My order\",]\n    return items.map((item,i)=>{\n      return <li key={i} className=\"nav-item btn btn-outline-warning\" style={{transition:\"0.1s\"}} onMouseEnter={this.hoverIn.bind(this)} onMouseLeave={this.hoverOut.bind(this)} onClick={this.handlePageChange.bind(this, item)}>\n      {item}\n      </li>      \n    })\n  }\n\n\n\n  render(){\n      return (\n        <div className=\"row mx-auto\" style={{position:\"relative\"}}>\n          <i className=\"fas fa-arrow-circle-right position-fixed btn\" style={{zIndex:\"2\", top:\"50%\", left:\"-25px\", fontSize:\"2rem\"}} onClick={this.handleSideShowUP.bind(this)}></i>          \n          <nav className=\"col-md-2 background_red side-nav hide-nav\" style={{transition:\"0.3s\"}}>\n          <p className=\"text-center pt-3 pb-2 mb-3\" style={{color:\"#fff\",fontSize:\"1.2rem\"}}>\n            Hello {localStorage.username}\n            <i className=\"fas fa-times-circle btn close-tag\" onClick={this.handleSideShowUP.bind(this)}></i>\n          </p>\n          <ul className=\"nav flex-column mb-3\">\n            {this.sideNav()}\n          </ul>\n          </nav>\n          <main role=\"main\" className=\"col-md-9 ml-sm-auto col-lg-10 px-4 \"><div className=\"chartjs-size-monitor\"><div className=\"chartjs-size-monitor-expand\"></div><div className=\"chartjs-size-monitor-shrink\"></div></div>\n              <div className=\"pt-3 pb-2 mb-3 border-bottom\">\n              <h1>{this.state.page}</h1>\n              </div>\n              <div style={{minHeight:\"90vh\"}}>\n                <div className=\"row\">\n                  {this.state.page===\"My account\"?this.account():\"\"}\n                  {this.state.page===\"My order\"?this.orderList():\"\"}\n                  {this.state.page===\"My music\"?this.ShoppingItems():\"\"}\n                </div>\n              </div>\n          </main>\n        </div>\n      )\n  }\n}\n\nexport default User","import React, { Component } from 'react';\nimport HeadphoneImg from '../img/malte-wingen-381988-unsplash.jpg'\n\n\nclass CartItem extends Component{\n\n    handleAddShopping(){\n        if(this.props.addShopping){\n            this.props.addShopping(this.props.info.item,this.props.info.price)\n        }\n    }\n    handleRemoveShopping(){\n        if(this.props.removeShopping){\n            this.props.removeShopping(this.props.info.item)\n        }\n    }\n\n    render(){\n        return (\n            <div className=\"col-12\">\n            <div className=\"row m-1 pt-2 pb-2 background_green border rounded\">\n                <div className=\"col-lg-2 col-md-3 col-sm-4 col-6\">\n                    <img className=\"card-img shadow\" src={this.props.info.img||HeadphoneImg} alt=\"\"/>\n                </div>\n                <div className=\"col-lg-10 col-md-9 col-sm-8 col-6\" style={{textShadow:\"1px 1px 2px #222222\", color:\"#f2f2f2\", fontWeight:\"bold\"}}>\n                    <h4>\n                        {this.props.info.item.name}&nbsp;\n                        <div className=\"mt-1\">\n                            <span className=\"btn btn-warning btn-sm\" onClick={this.handleAddShopping.bind(this)}>+</span>&nbsp;\n                            <span className=\"btn btn-danger btn-sm\" onClick={this.handleRemoveShopping.bind(this)}>-</span>\n                        </div>\n                    </h4>\n                    Artists: {this.props.info.item.artists[0].name} <br/>\n                    Price: ${this.props.info.price} \n                    <div className=\"m-2 p-1\">\n                    </div>\n                    <span className=\"float-right d-inline-block\" style={{fontWeight:\"bolder\"}} >\n                    qty: {this.props.info.qty} &nbsp;\n                    total: {this.props.info.qty*this.props.info.price}$\n                    </span>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default CartItem","import React, {Component} from 'react';\nimport {injectStripe,CardNumberElement,CardExpiryElement,CardCVCElement} from 'react-stripe-elements';\nimport{ makeOrder }from \"../api/api\"\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        name:\"\",\n        email:\"\",\n        address:\"\",\n        phoneNumber:\"\",\n        complete:\"\",\n        payment:\"\"\n    }\n    this.submit = this.submit.bind(this);\n  }\n\n  handleChange = e =>{\n    //check email\n    if(e.target.name===\"email\"){\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if(re.test(String(e.target.value).toLowerCase())){\n            this.setState({\n                [e.target.name]: e.target.value\n            })\n            return \n        }else{\n            return\n        }\n    }\n    //check phonenumber\n    if(e.target.name===\"phoneNumber\"){\n        e.target.value.length === 10?this.setState({[e.target.name]: e.target.value}):console.log(\"not phone number\")\n        return\n    }\n    this.setState({\n        [e.target.name]: e.target.value\n    })\n  }\n\n  async submit(e) {\n    e.preventDefault()\n    let {token} = await this.props.stripe.createToken({name: \"Name\"});\n    if(!token){\n        this.setState({complete:\"false\"})\n        return\n    }\n    let response = await makeOrder(token.id,{\n        \"name\":this.state.name,\n        \"email\":this.state.email,\n        \"phoneNumber\":this.state.phoneNumber,\n        \"address\":this.state.address,\n        \"total\":this.props.total,\n        \"userID\":localStorage.id,\n        \"cart\":localStorage.cart?JSON.parse(localStorage.cart):\"\"\n      })\n    if(response.ok) {\n        this.setState({\n            complete: \"true\",\n            payment:this.props.total\n        })\n        this.props.removeAllShopping()\n    } else{\n        this.setState({complete: \"false\"})\n    };\n  }\n  \n\n  render() {\n    if (this.state.complete===\"true\") return <h1>Purchase Complete. payment: {this.state.payment}</h1>;\n\n    return (\n      <form className=\"checkout m-2 form-group border rounded\" style={{background:\"#9BC53D\"}}>\n      <h2 className=\"m-2\">Submit payment</h2>\n      {this.state.complete===\"false\"?<h3 className=\"text-center\" style={{color:\"red\"}}>something gose wrong please check your input</h3>:\"\"}\n        <div className=\"form-row m-2\">\n            <div className=\"form-group col-md-6\">\n            <label htmlFor=\"name\">name</label>\n            <input type=\"text\" name=\"name\" onChange={this.handleChange.bind(this)} className=\"form-control\" id=\"name\" placeholder=\"name\"/>\n            </div>\n            <div className=\"form-group col-md-6\">\n            <label htmlFor=\"inputEmail\">Email</label>\n            <input type=\"email\" name=\"email\" onChange={this.handleChange.bind(this)} className=\"form-control\" id=\"inputEmail\" placeholder=\"Email\"/>\n            </div>\n        </div>\n        <div className=\"form-group m-2\">\n            <label htmlFor=\"inputAddress\">Address</label>\n            <input type=\"text\" name=\"address\" onChange={this.handleChange.bind(this)} className=\"form-control\" id=\"inputAddress\" placeholder=\"1234 Main St\"/>\n        </div>  \n        <div className=\"form-group m-2\">\n            <label htmlFor=\"phoneNumber\">Phone Number</label>\n            <input type=\"text\" name=\"phoneNumber\" onChange={this.handleChange.bind(this)} className=\"form-control\" id=\"phoneNumber\" placeholder=\"0912345678\"/>\n        </div>\n        <div className=\"border border-danger rounded m-2\">\n            <h3 className=\"m-2\">Credit Card</h3>\n            <div className=\"form-group m-2\">\n                <label htmlFor=\"card-number\">card number</label>\n                <CardNumberElement  className=\"form-control  col-md-6\" id=\"card-number\"/>\n            </div>\n            <div className=\"form-group m-2\">\n                <div className=\"form-row\">\n                    <div className=\"form-group col-md-4\">\n                        <label htmlFor=\"expired-date\">expired date</label>\n                        <CardExpiryElement className=\"form-control\" id=\"expired-date\"/>\n                    </div>\n                    <div className=\"form-group col-md-2\">\n                        <label htmlFor=\"cvc-number\">cvc</label>\n                        <CardCVCElement className=\"form-control\" id=\"cvc-number\"/>\n                    </div>\n                </div>\n            </div>\n        </div>  \n            <div className=\"d-flex justify-content-end\">\n                <p className=\"m-3\">payment ${this.props.total}</p>\n                <button className=\"btn btn-warning m-2 \" onClick={this.submit}>Send</button>\n            </div>\n      </form>\n    );\n  }\n}\n\nexport default injectStripe(CheckoutForm);","import React, { Component } from 'react';\nimport CartItem from '../components/cartItem'\nimport {Elements, StripeProvider} from 'react-stripe-elements';\nimport CheckoutForm from '../components/CheckoutForm';\n\nclass ShoppingCart extends Component{\n\n  componentDidMount(){\n    console.log(\"shopping page mount\")\n    for(let key in this.props.shoppingCart){\n      console.log(this.props.shoppingCart[key].item.name)\n      console.log(this.props.shoppingCart[key].item.type)\n    }\n  }\n\n  ShoppingItems =()=>{\n    let arr = []\n    for(let key in this.props.shoppingCart){\n        arr.push(\n        <CartItem \n          key={key}\n          info={this.props.shoppingCart[key]}\n          {...this.props}\n        />\n      )\n    }\n    return arr\n  }\n\n  handleCancel(){\n    if(this.props.removeAllShopping){\n      this.props.removeAllShopping()\n    }\n  }\n\n  handleCheckOut(){\n    this.props.history.push(\"/login\")\n  }\n\n  render(){\n    return (\n    <div className=\"\">\n      <div className=\"row mx-auto\">\n        <div role=\"main\" className=\"col-md-12 px-4\">\n          <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\n            <h1 className=\"h2\">Shopping Cart</h1>\n            <div className=\"btn-toolbar mb-2 mb-md-0\">\n              <div className=\"btn-group mr-2\">\n                <button className=\"btn btn-sm btn-outline-primary\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\">check out</button>\n                <button onClick={this.handleCancel.bind(this)} className=\"btn btn-sm btn-outline-danger\">remove all</button>\n              </div>\n            </div>\n          </div>\n          <div className=\"background_black p-2\" style={{minHeight:\"70vh\"}}>\n            <div className=\"row p-2\">\n              {this.ShoppingItems()}\n            </div>\n            <div>\n            <hr style={{background:\"white\",height: \"1px\"}}/>\n            <h3 className=\"mr-3 text-right\" style={{color:\"white\"}}>total price:{this.props.total}$</h3>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"modal fade\" id=\"exampleModalCenter\" tabIndex=\"-1\" role=\"dialog\">\n        <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div className=\"modal-content\">\n            <StripeProvider apiKey=\"pk_test_WtTS1S3oqOzys4iqVJtSpOaB\">\n              <div className=\"example\">\n                <Elements>\n                  <CheckoutForm {...this.props}/>\n                </Elements>\n              </div>\n              </StripeProvider>\n          </div>\n        </div>\n      </div>          \n    </div>\n    )\n  }\n}\n\nexport default ShoppingCart","import React, { Component } from 'react';\nimport Index from './index'\nimport About from './about'\nimport Search from './search'\nimport User from './user'\nimport ShoppingCart from \"./shoppingChat\"\nimport {Switch, Route, Redirect} from 'react-router-dom';\n\nconst IndexPage = () => (<Index />)\nconst AboutPage = () => (<About />)\n\nclass Main extends Component {\n  render() {\n  return (\n      <Switch>\n        <Route exact path=\"/\" component={IndexPage}/>\n        <Route exact path=\"/about\" component={AboutPage}/>\n        <Route exact path=\"/search\" render={(props)=>{\n            return <Search {...this.props} {...props}/>\n        }}/>\n        <Route exact path=\"/user\" render={(props)=>{\n            return <User {...this.props} {...props}/>\n        }}/>\n        <Route exact path=\"/shoppingCart\" render={(props)=>{\n            return <ShoppingCart {...this.props} {...props}/>\n        }}/>\n        <Route exact path=\"/:other\" render={() => (\n          <Redirect to=\"/\"/>\n        )}/>\n      </Switch>\n      )\n    };\n  }\nexport default Main;","import React, { Component } from 'react';\nimport {NavLink, Link } from 'react-router-dom';\n\n\n\nclass Dropdown extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            email:\"\",\n        }\n    }\n\n    handleClick=()=>{\n        if(this.props.add){\n            this.props.add()\n        }\n    }\n\n    handleLogout(e){\n        if(this.props.logout){\n            this.props.logout()\n        }\n    }\n\n    render() {\n\n      return (\n        <div className=\"collapse navbar-collapse justify-content-end\" id=\"Dropdown\">\n            <ul className=\"navbar-nav\">\n            <li className=\"nav-item\">\n                <NavLink exact className=\"nav-link\" to=\"/\"><i className=\"fas fa-home\"></i> Home</NavLink>\n            </li>\n            <li className=\"nav-item\">\n                <NavLink exact className=\"nav-link\" to=\"/search\"><i className=\"fas fa-search\"></i> Search</NavLink>\n            </li>\n            <li className=\"nav-item\">\n                <NavLink exact className=\"nav-link\" to=\"/shoppingCart\"><i className=\"fas fa-shopping-cart\"></i><span className=\"badge badge-pill badge-info\">{Object.keys(this.props.shoppingCart).length>0?Object.keys(this.props.shoppingCart).length:\"\"}</span>shopping cart</NavLink>\n            </li>\n            <li className=\"nav-item\">\n                <NavLink exact className=\"nav-link\" to=\"/user\"><i className=\"fas fa-user\"></i> User</NavLink>\n            </li>\n            <li className=\"nav-item\">\n                <NavLink exact className=\"nav-link\" to=\"/about\"><i className=\"fas fa-book\"></i> About</NavLink>\n            </li>\n            <li className=\"nav-item\">\n                <Link className=\"nav-link\" to=\"/\" onClick={this.handleLogout.bind(this)}><i className=\"fas fa-sign-out-alt\"></i> Log Out</Link>\n            </li>\n                 \n            </ul>\n\n        </div>\n      )\n    }\n}\n\nexport default Dropdown;","import React, { Component } from 'react';\nimport Dropdown from '../components/dropdown.js'\nimport {NavLink} from 'react-router-dom';\n\nclass Header extends Component {\n    render() {\n      return (\n        <header className=\"background_blue\">\n            <nav className=\"navbar navbar-expand-lg navbar-light\">\n                <NavLink className=\"navbar-brand\" to=\"/\"><h2><i className=\"fas fa-headphones\"></i> Music Store</h2></NavLink>\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#Dropdown\">\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n                <Dropdown {...this.props} />\n            </nav>\n        </header>\n      );\n    }\n  }\n  \n  export default Header;","import React, { Component } from 'react';\nimport Landing from './container/landing'\nimport Main from './container/Main';\nimport Header from './container/header'\nimport * as apiCalls from \"./api/api\"\n// import { setCookie, getCookie }from \"./function/cookie\"\n\nclass App extends Component {\n  constructor(props){\n    super(props)\n    this.state={\n        shoppingCart:{},\n        login:false,\n        logout:this.logout,\n        total:0,\n        addShopping:this.addShopping.bind(this),\n        removeShopping:this.removeShopping.bind(this),\n        removeAllShopping: this.removeAllShopping.bind(this),\n        checkAuth:this.authUser.bind(this)\n    }\n  }\n\n  componentWillMount(){\n    if(localStorage.getItem('cart')){\n      let shoppingCart = JSON.parse(localStorage.getItem('cart'))\n      let total = 0\n      for(let key in shoppingCart){\n        total = total + shoppingCart[key].price * shoppingCart[key].qty\n      }\n      this.setState({\n        shoppingCart:shoppingCart,\n        total:total\n      })\n    }\n  }\n\n  componentDidMount(){\n    this.authUser()\n  }\n\n  // componentDidUpdate(){\n  //   this.authUser()\n  // }\n\n  async authUser(){\n    if(localStorage.jwtToken){\n      console.log(\"have token\")\n      const isLogin = await apiCalls.checkAuth(localStorage.id, localStorage.jwtToken)\n      if(isLogin){\n        (!this.state.login)?this.setState({login:true}):console.log(\"not Auth\")\n        console.log(\"auth user \"+localStorage.username)\n        return true\n      }else{\n        localStorage.removeItem(\"jwtToken\")\n        localStorage.removeItem(\"id\");\n        localStorage.removeItem(\"username\");\n        this.setState({login:false})\n        return false\n      }\n    }else{\n      console.log(\"not auth\")\n      return false\n    }\n  }\n\n  logout=()=>{\n    localStorage.removeItem(\"jwtToken\")\n    localStorage.removeItem(\"id\");\n    localStorage.removeItem(\"username\");\n    this.setState({login:false})\n  }\n\n  addShopping(item,price,img){\n    let NewCart = JSON.parse(JSON.stringify(this.state.shoppingCart));\n    let totalPrice = this.state.total\n    if(!NewCart[item.id]){\n      NewCart[item.id]={item, qty:1, price, img}\n      localStorage.setItem(\"cart\",JSON.stringify(NewCart))\n    }else{\n      NewCart[item.id].qty++\n      NewCart[item.id].price = price\n      localStorage.setItem(\"cart\",JSON.stringify(NewCart))\n    }\n    totalPrice += price\n    this.setState({shoppingCart:NewCart, total:totalPrice})\n  }\n\n  removeShopping(item){\n    let NewCart = JSON.parse(JSON.stringify(this.state.shoppingCart));\n    let totalPrice = this.state.total\n    if(NewCart[item.id]){\n      const price = NewCart[item.id].price\n      if(NewCart[item.id].qty===1){\n        delete NewCart[item.id]\n      }else{\n        NewCart[item.id].qty--\n      }\n      totalPrice-price>0?totalPrice=totalPrice-price:totalPrice=0\n    }\n    localStorage.setItem(\"cart\",JSON.stringify(NewCart))\n    this.setState({shoppingCart:NewCart, total:totalPrice})\n  }\n\n  removeAllShopping(){\n    localStorage.removeItem(\"cart\")\n    this.setState({\n      shoppingCart:{},\n      total:0,\n    })\n  }\n\n  render() {\n    if(!this.state.login){\n      return (<Landing {...this.state}/>)\n    }\n    return (\n      <div>\n        <Header {...this.state}/>\n        <Main {...this.state}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.js';\nimport {HashRouter as Router} from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n<Router>\n    <App />\n</Router>,\ndocument.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}