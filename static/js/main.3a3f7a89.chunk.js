(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/malte-wingen-381988-unsplash.331197b5.jpg"},18:function(e,t,a){e.exports=a.p+"static/media/Spotify_Logo_RGB_Green.11dc437a.png"},20:function(e,t,a){e.exports=a(30)},25:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),c=a.n(r),o=(a(25),a(2)),s=a(3),i=a(5),m=a(4),u=a(6),h=a(11),p=a.n(h),d=a(10),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={title:e.title,img:e.img,info:e.info,rate:"Good"},a.handleClcik=a.handleClcik.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleClcik",value:function(){var e;e="Good"===this.state.rate?"bad":"Good",this.setState({rate:e})}},{key:"render",value:function(){return l.a.createElement("div",{className:"card"},l.a.createElement("img",{className:"card-img-top",src:this.state.img,alt:""}),l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",null,this.state.title),l.a.createElement("div",{onClick:this.handleClcik},this.state.rate)))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={searchValue:"",searchResults:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleSearchValueChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"handleSearch",value:function(){if(this.props.onSubmit){var e=this.state.searchValue,t=document.querySelector("select[name=searchType]").value;this.props.onSubmit(e,t)}this.setState({searchValue:""})}},{key:"render",value:function(){return l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("select",{name:"searchType"},l.a.createElement("option",{value:"album"},"album"),l.a.createElement("option",{value:"artist"},"artist"),l.a.createElement("option",{value:"playlist"},"playlist"),l.a.createElement("option",{value:"track"},"track")),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"search...",value:this.state.searchValue,onChange:this.handleSearchValueChange.bind(this)}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{onClick:this.handleSearch.bind(this),className:"input-group-text btn btn-success"},"Search")))}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).white={color:"white",fontWeight:"800",textShadow:"1px 1px 0 black"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"jumbotron jumbo_back"},l.a.createElement("h1",{className:"display-4",style:this.white},"Music Store"),l.a.createElement("p",{className:"lead",style:this.white},"This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information."),l.a.createElement(E,null),l.a.createElement("hr",{className:"my-4"}),l.a.createElement("p",{style:this.white},"It uses utility classNamees for typography and spacing to space content out within the larger container."),l.a.createElement("button",{className:"btn btn-primary btn-lg"},"Learn more"))}}]),t}(n.Component),f=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).backyellow={background:"#FDE74C"},a.backgreen={background:"#9BC53D"},a.largeText={fontSize:"4rem",fontWeigth:"bold"},a.marginLarge={margin:"3rem 3rem"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("main",null,l.a.createElement(v,null),l.a.createElement("div",{style:this.marginLarge},l.a.createElement("div",{className:"container",style:this.backyellow},l.a.createElement("div",{className:"row text-align-center"},l.a.createElement("h1",{className:"col-12 text-center",style:this.largeText},"Music Store")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 col-sm-6 order-md-2 mx-auto my-auto"},l.a.createElement("img",{src:p.a,alt:"",className:"img-fluid"})),l.a.createElement("div",{className:"col-md-6 col-sm-12 my-auto"},l.a.createElement("p",{className:"col-md-10 col-sm-12 lead"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum, reprehenderit quidem! Quos, illo! Nulla totam molestiae ea voluptatum, tempora quibusdam harum itaque culpa error inventore provident asperiores unde natus laborum?voluptatum, tempora quibusdam harum itaque culpa error inventore provident asperiores unde natus laborum?"),l.a.createElement("div",{style:this.marginLarge},l.a.createElement("a",{className:"btn btn-lg btn-primary",href:"/"},"GET START")),l.a.createElement("div",null,l.a.createElement("p",{className:"col-md-10 col-sm-12 lead"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum, reprehenderit quidem! Quos, illo! Nulla totam molestiae ea voluptatum, tempora quibusdam harum itaque culpa error")))))),l.a.createElement("div",{className:"container",style:this.backgreen},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h1",{className:"text-center"},"\u96a8\u6a5f\u63a8\u85a6\u55ae\u66f2")),l.a.createElement("div",{className:"col-md-4 col-sm-12 lead"},l.a.createElement(b,{title:"hello",img:p.a})),l.a.createElement("div",{className:"col-md-4 col-sm-12 lead"},l.a.createElement(b,{title:"HI",img:p.a})),l.a.createElement("div",{className:"col-md-4 col-sm-12 lead"},l.a.createElement(b,{title:"Music",img:p.a})))))}}]),t}(n.Component),g=a(18),y=a.n(g),j=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"my-auto"},l.a.createElement("p",{className:"mx-auto text-center"}," This product uses the Spotify API but is not endorsed or certified by Spotify."),l.a.createElement("div",{className:"col-sm-6 mx-auto my-auto"},l.a.createElement("img",{src:y.a,alt:"",className:"img-fluid"})))))}}]),t}(n.Component),N=a(15),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).backred={background:"#C3423F"},a.screen={height:"100vh",background:"#C3423F"},a.state={genres:["acoustic","alternative","anime","blues","bossanova","chill","classical","dance","deep-house","disco","drum-and-bass","dubstep","electronic","funk","groove","guitar","happy","hard-rock","hip-hop","holidays","house","indie","industrial","j-pop","j-rock","jazz","k-pop","mandopop","metal","movies","new-release","opera","piano","pop","punk","road-trip","rock","rock-n-roll","romance","sad","sleep","soul","study","summer","tango","trance","work-out"]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleGenreChange",value:function(e){this.props.onSubmit&&(this.props.onSubmit(e.target.innerText),console.log(e.target.innerText)),this.setState({selected:e.target.value})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-md-2",style:this.backred},l.a.createElement("p",null),l.a.createElement("ul",{className:"list-group list-group-flush"},this.state.genres.map(function(t,a){return l.a.createElement("li",{onClick:e.handleGenreChange.bind(e),className:"list-group-item",key:a},t)})))}}]),t}(n.Component);var O="https://secret-plateau-59047.herokuapp.com/access_token",x=document.body,w=document.documentElement,S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={genreResults:[],searchResults:[],next:"https://api.spotify.com/v1/browse/new-releases?country=TW&limit=20",searchType:"album",Categories:null},a.Scroll=a.Scroll.bind(Object(d.a)(Object(d.a)(a))),a.handleScroll=function(e,t){var a,n;return t||(t=500),function(){var l=this,r=arguments,c=+new Date;a&&c<a+t?(clearTimeout(n),n=setTimeout(function(){a=c,e.apply(l,r)},t)):(a=c,e.apply(l,r))}}(a.Scroll),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleSubmitSearch",value:function(e,t){var a=this;this.setState({searchResults:[],next:null}),fetch(O).then(function(e){return e.json()}).then(function(n){var l="https://api.spotify.com/v1/search?query=".concat(e,"&type=").concat(t,"&market=TW&offset=0&limit=20");fetch(l,{method:"GET",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n.access_token)})}).then(function(e){return e.json()}).then(function(e){Boolean(e[t+"s"])&&a.setState({searchResults:e[t+"s"].items,next:e[t+"s"].next,searchType:t})}).catch(function(e){return console.log(e)})}).catch(function(e){console.log(e)})}},{key:"handleGenreSearch",value:function(e){this.setState({searchResults:[],next:"https://api.spotify.com/v1/recommendations?limit=20&market=TW&seed_genres=".concat(e),searchType:"track"}),this.handleSearch()}},{key:"handleSearch",value:function(){var e=this;fetch(O).then(function(e){return e.json()}).then(function(t){var a=e.state.next;console.log(a),fetch(a,{method:"GET",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t.access_token)})}).then(function(e){if(!e.ok)throw Error(e);return e.json()}).then(function(t){console.log(t);var a=e.state.searchResults.splice("");e.setState({searchResults:Object(N.a)(a).concat(Object(N.a)(t[e.state.searchType+"s"].items)),next:t[e.state.searchType+"s"].next})}).catch(function(e){console.log(e)})})}},{key:"Scroll",value:function(){var e=Math.max(x.scrollHeight,x.offsetHeight,w.clientHeight,w.scrollHeight,w.offsetHeight),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);window.scrollY+t>=e-200&&this.state.next&&this.handleSearch()}},{key:"render",value:function(){return l.a.createElement("main",null,l.a.createElement("div",{className:"row mx-auto"},l.a.createElement(k,{onSubmit:this.handleGenreSearch.bind(this),categories:this.state.Categories}),l.a.createElement("div",{className:"col-md-10 col-sm-12"},l.a.createElement("div",{className:"container mt-3"},l.a.createElement(E,{onSubmit:this.handleSubmitSearch.bind(this)}),l.a.createElement("hr",null),l.a.createElement("div",{className:"row mx-auto",style:{minHeight:"90vh"}},this.state.searchResults?this.state.searchResults.map(function(e,t){return l.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-10 mb-3",key:t},l.a.createElement(b,{key:t,info:e,title:e.name,img:Boolean(e.images)&&Boolean(e.images[0])?e.images[0].url:p.a}))}):"",this.state.next?l.a.createElement("div",{className:"lds-dual-ring mx-auto"}):l.a.createElement("div",{className:"col-12 text-center",style:{fontSize:"2rem"}},"No more result"))))))}}]),t}(n.Component),C=a(34),T=a(31),H=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("form",{className:"col-md-9 mx-auto col-sm-12 form-control-lg"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),l.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),l.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))}}]),t}(n.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("form",{className:"col-md-9 mx-auto col-sm-12 form-control-lg"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),l.a.createElement("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),l.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))}}]),t}(n.Component),I=function(){return l.a.createElement(H,null)},L=function(){return l.a.createElement(G,null)},R=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("main",null,l.a.createElement(C.a,null,l.a.createElement(T.a,{exact:!0,path:"/register",component:I}),l.a.createElement(T.a,{exact:!0,path:"/login",component:L})))}}]),t}(n.Component),q=function(){return l.a.createElement(f,null)},W=function(){return l.a.createElement(j,null)},A=function(){return l.a.createElement(S,null)},B=function(){return l.a.createElement(R,null)},P=function(){return l.a.createElement(C.a,null,l.a.createElement(T.a,{exact:!0,path:"/",component:q}),l.a.createElement(T.a,{exact:!0,path:"/about",component:W}),l.a.createElement(T.a,{exact:!0,path:"/search",component:A}),l.a.createElement(T.a,{exact:!0,path:"/register",component:B}),l.a.createElement(T.a,{exact:!0,path:"/login",component:B}))},_=a(33),F=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"hover",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav col-3"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(_.a,{exact:!0,className:"nav-link",to:"/"},"Home")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(_.a,{exact:!0,className:"nav-link",to:"/search"},"Search")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(_.a,{exact:!0,className:"nav-link",to:"/about"},"About")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(_.a,{exact:!0,className:"nav-link",to:"/register"},"Login")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(_.a,{exact:!0,className:"nav-link",to:"/login"},"signup"))))}}]),t}(n.Component),M=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("header",{className:"Head"},l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},l.a.createElement(_.a,{className:"navbar-brand",to:"/"},"Music Store"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement(F,null)))}}]),t}(n.Component),V=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(M,null),l.a.createElement(P,null))}}]),t}(n.Component),z=a(32);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(z.a,null,l.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.3a3f7a89.chunk.js.map