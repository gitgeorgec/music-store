(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/malte-wingen-381988-unsplash.331197b5.jpg"},21:function(e,t,a){e.exports=a.p+"static/media/Spotify_Logo_RGB_Green.11dc437a.png"},23:function(e,t,a){e.exports=a(36)},28:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),c=a.n(s),l=(a(28),a(15)),o=a(7),i=a.n(o),m=a(12),u=a(2),h=a(3),p=a(5),d=a(4),b=a(6),g=a(8),v=a(14),f=a.n(v),E=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={title:e.title,img:e.img,info:e.info,rate:"Good",owned:"false"},a.handleClcik=a.handleClcik.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"handleClcik",value:function(){var e;e="Good"===this.state.rate?"bad":"Good",this.setState({rate:e})}},{key:"handleShopping",value:function(){this.props.addShopping&&this.props.addShopping(this.state.title),console.log("click"),this.setState({owned:"true"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top",src:this.state.img,alt:""}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",null,this.state.title),r.a.createElement("div",{onClick:this.handleClcik},this.state.rate),r.a.createElement("div",{onClick:this.handleShopping.bind(this)},"In my list ",this.state.owned)))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={searchValue:"",searchResults:{}},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"handleSearchValueChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"handleSearch",value:function(){if(this.props.onSubmit){var e=this.state.searchValue,t=document.querySelector("select[name=searchType]").value;this.props.onSubmit(e,t)}this.setState({searchValue:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("select",{name:"searchType"},r.a.createElement("option",{value:"album"},"album"),r.a.createElement("option",{value:"artist"},"artist"),r.a.createElement("option",{value:"playlist"},"playlist"),r.a.createElement("option",{value:"track"},"track")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"search...",value:this.state.searchValue,onChange:this.handleSearchValueChange.bind(this)}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{onClick:this.handleSearch.bind(this),className:"input-group-text btn btn-success"},"Search")))}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).white={color:"white",fontWeight:"800",textShadow:"1px 1px 0 black"},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"handleSubmitSearch",value:function(){this.props.histroy.push("/Search")}},{key:"render",value:function(){return r.a.createElement("div",{className:"jumbotron jumbo_back"},r.a.createElement("h1",{className:"display-4",style:this.white},"Music Store"),r.a.createElement("p",{className:"lead",style:this.white},"This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information."),r.a.createElement(y,{onSubmit:this.handleSubmitSearch.bind(this)}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",{style:this.white},"It uses utility classNamees for typography and spacing to space content out within the larger container."),r.a.createElement("button",{className:"btn btn-primary btn-lg"},"Learn more"))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).backyellow={background:"#FDE74C"},a.backgreen={background:"#9BC53D"},a.largeText={fontSize:"4rem",fontWeigth:"bold"},a.marginLarge={margin:"3rem 3rem"},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(k,null),r.a.createElement("div",{style:this.marginLarge},r.a.createElement("div",{className:"container",style:this.backyellow},r.a.createElement("div",{className:"row text-align-center"},r.a.createElement("h1",{className:"col-12 text-center",style:this.largeText},"Music Store")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-sm-6 order-md-2 mx-auto my-auto"},r.a.createElement("img",{src:f.a,alt:"",className:"img-fluid"})),r.a.createElement("div",{className:"col-md-6 col-sm-12 my-auto"},r.a.createElement("p",{className:"col-md-10 col-sm-12 lead"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum, reprehenderit quidem! Quos, illo! Nulla totam molestiae ea voluptatum, tempora quibusdam harum itaque culpa error inventore provident asperiores unde natus laborum?voluptatum, tempora quibusdam harum itaque culpa error inventore provident asperiores unde natus laborum?"),r.a.createElement("div",{style:this.marginLarge},r.a.createElement("a",{className:"btn btn-lg btn-primary",href:"/"},"GET START")),r.a.createElement("div",null,r.a.createElement("p",{className:"col-md-10 col-sm-12 lead"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum, reprehenderit quidem! Quos, illo! Nulla totam molestiae ea voluptatum, tempora quibusdam harum itaque culpa error")))))),r.a.createElement("div",{className:"container",style:this.backgreen},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h1",{className:"text-center"},"\u96a8\u6a5f\u63a8\u85a6\u55ae\u66f2")),r.a.createElement("div",{className:"col-md-4 col-sm-12 lead"},r.a.createElement(E,{title:"hello",img:f.a})),r.a.createElement("div",{className:"col-md-4 col-sm-12 lead"},r.a.createElement(E,{title:"HI",img:f.a})),r.a.createElement("div",{className:"col-md-4 col-sm-12 lead"},r.a.createElement(E,{title:"Music",img:f.a})))))}}]),t}(n.Component),j=a(21),N=a.n(j),x=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"my-auto"},r.a.createElement("p",{className:"mx-auto text-center"}," This product uses the Spotify API but is not endorsed or certified by Spotify."),r.a.createElement("div",{className:"col-sm-6 mx-auto my-auto"},r.a.createElement("img",{src:N.a,alt:"",className:"img-fluid"})))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).backred={background:"#C3423F"},a.screen={height:"100vh",background:"#C3423F"},a.state={genres:["acoustic","alternative","anime","blues","bossanova","chill","classical","dance","deep-house","disco","drum-and-bass","dubstep","electronic","funk","groove","guitar","happy","hard-rock","hip-hop","holidays","house","indie","industrial","j-pop","j-rock","jazz","k-pop","mandopop","metal","movies","new-release","opera","piano","pop","punk","road-trip","rock","rock-n-roll","romance","sad","sleep","soul","study","summer","tango","trance","work-out"]},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"handleGenreChange",value:function(e){this.props.onSubmit&&(this.props.onSubmit(e.target.innerText),console.log(e.target.innerText)),this.setState({selected:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-2",style:this.backred},r.a.createElement("p",null,"Recommendations"),r.a.createElement("ul",{className:"list-group list-group-flush"},this.state.genres.map(function(t,a){return r.a.createElement("li",{onClick:e.handleGenreChange.bind(e),className:"list-group-item",key:a},t)})))}}]),t}(n.Component);function S(e){if(!e.ok){if(e.status>=400&&e.status<500)return e.json().then(function(e){throw e});throw{errorMessage:"Please try again later, server is not responsed"}}}function C(){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://secret-plateau-59047.herokuapp.com/access_token",e.abrupt("return",fetch("https://secret-plateau-59047.herokuapp.com/access_token").then(function(e){return S(e),e.json()}).then(function(e){return e.access_token}).catch(function(e){return console.log(e)}));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function H(e,t){return B.apply(this,arguments)}function B(){return(B=Object(m.a)(i.a.mark(function e(t,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{method:"GET",headers:new Headers({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)})}).then(function(e){return S(e),e.json()}).then(function(e){return console.log(e),e}).catch(function(e){return console.log(e)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function L(e,t,a,n){return M.apply(this,arguments)}function M(){return(M=Object(m.a)(i.a.mark(function e(t,a,n,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:n,password:r})}).then(function(e){return S(e),e.json()}).then(function(e){return console.log(e),e}).catch(function(e){return console.log(e)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function R(e,t){return z.apply(this,arguments)}function z(){return(z=Object(m.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:8081/test/"+t,e.abrupt("return",fetch(n,{headers:{authorization:"Bearer ".concat(a)}}).then(function(e){return S(e),e.json()}).then(function(e){return console.log(e),"success"===e.auth}).catch(function(e){return console.log(e)}));case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var D=document.body,G=document.documentElement,q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={searchResults:[],next:"https://api.spotify.com/v1/browse/new-releases?country=TW&limit=20",genre:"",searchType:"album",Categories:null},a.Scroll=a.Scroll.bind(Object(g.a)(Object(g.a)(a))),a.handleScroll=function(e,t){var a,n;return t||(t=500),function(){var r=this,s=arguments,c=+new Date;a&&c<a+t?(clearTimeout(n),n=setTimeout(function(){a=c,e.apply(r,s)},t)):(a=c,e.apply(r,s))}}(a.Scroll),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleSubmitSearch",value:function(e,t){""===e&&(e=" "),this.setState({searchResults:[],next:"https://api.spotify.com/v1/search?query=".concat(e,"&type=").concat(t,"&market=TW&offset=0&limit=20")},this.handleSearch)}},{key:"handleGenreSearch",value:function(e){this.setState({searchResults:[],next:"https://api.spotify.com/v1/recommendations?limit=40&market=TW&seed_genres=".concat(e),searchType:"track",genre:e},this.handleSearch)}},{key:"handleSearch",value:function(){var e=Object(m.a)(i.a.mark(function e(){var t,a,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.next,e.next=3,C();case 3:return a=e.sent,e.next=6,H(t,a);case 6:n=e.sent,console.log(n),r=this.state.searchResults.splice(""),n[this.state.searchType+"s"]&&n[this.state.searchType+"s"].items?this.setState({searchResults:Object(l.a)(r).concat(Object(l.a)(n[this.state.searchType+"s"].items)),next:n[this.state.searchType+"s"].next}):n.seeds?this.setState({searchResults:Object(l.a)(r).concat(Object(l.a)(n[this.state.searchType+"s"])),next:"https://api.spotify.com/v1/recommendations?limit=20&offset=20&=market=TW&seed_genres=".concat(this.state.genre)}):this.setState({next:null});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Scroll",value:function(){var e=Math.max(D.scrollHeight,D.offsetHeight,G.clientHeight,G.scrollHeight,G.offsetHeight),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);window.scrollY+t>=e-200&&this.state.next&&this.handleSearch()}},{key:"handleClick",value:function(){this.props.add&&this.props.add()}},{key:"render",value:function(){var e=this;return r.a.createElement("main",null,r.a.createElement("div",{onClick:this.handleClick.bind(this)},"click"),r.a.createElement("div",{className:"row mx-auto"},r.a.createElement(O,{onSubmit:this.handleGenreSearch.bind(this),categories:this.state.Categories}),r.a.createElement("div",{className:"col-md-10 col-sm-12"},r.a.createElement("div",{className:"container mt-3"},r.a.createElement(y,{onSubmit:this.handleSubmitSearch.bind(this)}),r.a.createElement("hr",null),r.a.createElement("div",{className:"row mx-auto",style:{minHeight:"90vh"}},"track"!==this.state.searchType?this.state.searchResults.map(function(t,a){return r.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-10 mb-3",key:a},r.a.createElement(E,Object.assign({key:a,info:t,title:t.name,img:Boolean(t.images)&&Boolean(t.images[0])?t.images[0].url:f.a},e.props)))}):"","track"===this.state.searchType?this.state.searchResults.map(function(t,a){return r.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-10 mb-3",key:a},r.a.createElement(E,Object.assign({key:a,info:t,title:t.name,img:Boolean(t.album.images)&&Boolean(t.album.images[0])?t.album.images[0].url:f.a},e.props)))}):"",this.state.next?r.a.createElement("div",{className:"lds-dual-ring mx-auto"}):r.a.createElement("div",{className:"col-12 text-center",style:{fontSize:"2rem"}},"No more result"))))))}}]),t}(n.Component),W=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("nav",{className:"col-md-2 d-none d-md-block bg-light sidebar"},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link active",href:"/"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"feather feather-home"},r.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})),"Dashboard ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",href:""},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"feather feather-file"},r.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.a.createElement("polyline",{points:"13 2 13 9 20 9"})),"Orders")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",href:""},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"feather feather-shopping-cart"},r.a.createElement("circle",{cx:"9",cy:"21",r:"1"}),r.a.createElement("circle",{cx:"20",cy:"21",r:"1"}),r.a.createElement("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})),"Products")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",href:""},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"feather feather-users"},r.a.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),r.a.createElement("circle",{cx:"9",cy:"7",r:"4"}),r.a.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),r.a.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})),"Customers")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",href:""},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"feather feather-bar-chart-2"},r.a.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),r.a.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),r.a.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"14"})),"Reports")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link",href:""},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"feather feather-layers"},r.a.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),r.a.createElement("polyline",{points:"2 17 12 22 22 17"}),r.a.createElement("polyline",{points:"2 12 12 17 22 12"})),"Integrations"))))),r.a.createElement("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-4"},r.a.createElement("div",{className:"chartjs-size-monitor"},r.a.createElement("div",{className:"chartjs-size-monitor-expand"}),r.a.createElement("div",{className:"chartjs-size-monitor-shrink"})),r.a.createElement("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},r.a.createElement("h1",{className:"h2"},"Dashboard"),r.a.createElement("div",{className:"btn-toolbar mb-2 mb-md-0"},r.a.createElement("div",{className:"btn-group mr-2"},r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary"},"Share"),r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary"},"Export")),r.a.createElement("button",{className:"btn btn-sm btn-outline-secondary dropdown-toggle"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"feather feather-calendar"},r.a.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.a.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.a.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"})),"This week"))),r.a.createElement("canvas",{className:"my-4 w-100 chartjs-render-monitor",id:"myChart",width:"1212",height:"511"})))}}]),t}(n.Component),I=a(22),P=a(40),_=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(I.a)({},e.target.name,e.target.value))},a.state={email:"",username:"",password:"",err:!1},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(Object(g.a)(a))),a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"handleSubmit",value:function(){var e=Object(m.a)(i.a.mark(function e(t){var a,n,r,s,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.sign?"signin":"signup",n="http://localhost:8081/api/auth/"+a,console.log(n),r=this.state.username,s=this.state.email,c=this.state.password,e.next=9,L(n,r,s,c);case 9:(l=e.sent)?(localStorage.setItem("jwtToken",l.token),localStorage.setItem("id",l.id),localStorage.setItem("username",l.username),this.props.history.push("/")):this.setState({err:!0});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.login?r.a.createElement(P.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center"},this.props.heading),r.a.createElement("form",{className:"col-md-9 mx-auto col-sm-12 form-control-lg",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Email"},"Email address"),r.a.createElement("input",{name:"email",type:"email",className:"form-control",id:"Email",placeholder:"Enter email",onChange:this.handleChange}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Username"},"username"),r.a.createElement("input",{name:"username",type:"text",className:"form-control",id:"Username",placeholder:"Enter email",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Password"},"Password"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"Password",placeholder:"Password",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),this.state.err?r.a.createElement("div",null,"wrong user"):""))}}]),t}(n.Component),A=a(41),U=a(37),V=function(){return r.a.createElement(w,null)},F=function(){return r.a.createElement(x,null)},J=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).SearchPage=function(){return r.a.createElement(q,a.props)},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(A.a,null,r.a.createElement(U.a,{exact:!0,path:"/",component:V}),r.a.createElement(U.a,{exact:!0,path:"/about",component:F}),r.a.createElement(U.a,{exact:!0,path:"/about",component:F}),r.a.createElement(U.a,{exact:!0,path:"/search",render:function(t){return r.a.createElement(q,Object.assign({},e.props,t))}}),r.a.createElement(U.a,{exact:!0,path:"/user",render:function(t){return r.a.createElement(W,Object.assign({},e.props,t))}}),r.a.createElement(U.a,{exact:!0,path:"/register",render:function(t){return r.a.createElement(_,Object.assign({heading:"register"},e.props,t))}}),r.a.createElement(U.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(_,Object.assign({heading:"log in",sign:!0},e.props,t))}}))}}]),t}(n.Component),Q=a(38),Y=a(35),$=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={email:""},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"handleClick",value:function(){this.props.add&&this.props.add()}},{key:"handleLogout",value:function(e){this.props.logout&&this.props.logout()}},{key:"render",value:function(){return r.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav col-3"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(Q.a,{exact:!0,className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Q.a,{exact:!0,className:"nav-link",to:"/search"},"Search")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Q.a,{exact:!0,className:"nav-link",to:"/about"},"About")),this.props.login?r.a.createElement("li",{className:"nav-item"},r.a.createElement(Y.a,{exact:!0,className:"nav-link",to:"/",onClick:this.handleLogout.bind(this)},"Log Out")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(Q.a,{exact:!0,className:"nav-link",to:"/login"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(Q.a,{exact:!0,className:"nav-link",to:"/register"},"signup")))),r.a.createElement("span",{onClick:this.handleClick.bind(this)},"click"))}}]),t}(n.Component),K=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"handleClick",value:function(){this.props.add&&this.props.add()}},{key:"render",value:function(){return r.a.createElement("header",{className:"Head"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement(Q.a,{className:"navbar-brand",to:"/"},"Music Store"),localStorage.username?r.a.createElement("span",{onClick:this.handleClick.bind(this)},"Hello ",localStorage.username):"",r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement($,this.props)))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={buyChart:[],count:0,login:!1,logout:a.logout.bind(Object(g.a)(Object(g.a)(a))),add:a.addcount.bind(Object(g.a)(Object(g.a)(a))),addShopping:a.addShopping.bind(Object(g.a)(Object(g.a)(a)))},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("componentDidMount"),this.authUser();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(m.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("componentDidUpadate"),this.authUser();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"authUser",value:function(){var e=Object(m.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.jwtToken){e.next=6;break}return console.log("have token"),e.next=4,R(localStorage.id,localStorage.jwtToken);case 4:e.sent?this.state.login?console.log("auth user"):this.setState({login:!0}):(localStorage.clear(),console.log("not auth"));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.clear(),this.setState({login:!1})}},{key:"addcount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.state.count;t+=e,this.setState({count:t})}},{key:"addShopping",value:function(e){var t=Object(l.a)(this.state.buyChart);console.log(t),t.includes(e)?console.log("include"):(t=Object(l.a)(t).concat([e]),this.setState({buyChart:t})),console.log(t)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(K,Object.assign({},this.state,{onlogOut:this.state.logout})),r.a.createElement("div",null,this.state.count),r.a.createElement(J,this.state))}}]),t}(n.Component),Z=a(39);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Z.a,null,r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.417c669f.chunk.js.map